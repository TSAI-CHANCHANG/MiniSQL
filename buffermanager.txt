Buffer功能可以分为如下三块：

Read――
FindBlockinBuffer  给出filename和offset，得到buffer中有这个数据的一个block
GetDetail 给出blocknum和blockoffset，得到对应的指针

Write――
Delete Record
FindBlockinBuffer  给出filename和offset，得到buffer中有这个数据的一个block，供上一级的manager进行修改
修改时在这个block中删去对应的记录即可
DirtBlock 将这个block设为dirty

删除对应的index中的数据，这个具体要index manager实施，应该是给我一个filename和offset，我将对应的数据块交给index manager进行修改

Insert Record
FindSuitBlockinBuffer 给出filename和insertsize，返回一个有足够空间的block供上一级manager进行插入（block有usedsize成员变量，可以利用）
DirtBlock

select record（不用index）
FindBlockinBuffer 在对应文件中依次找
匹配
打印

select record(index)
用B+树找到结点，指向这个块（filename和offset）
FindBlockinBuffer

File――
drop index
DeleteFile 删除文件
删除所有内存中的blocks

新建文件就不用了，反正第一次插入会自动新建



********
爱用不用系列：
为了给上层提供方便，我弄了两个新函数
Insert(blocknum,char* data) 在编号为blocknum的块最后插入data
Delete(blocknum,blockoffset,size) 从编号为blocknum的块里第offset的位置起删掉大小为size的数据